<html>
  <head>
    <title>Dynamsoft Barcode Reader for Your Website - User Guide</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <style type='text/css'>
      body {
        font: 400 16px/1.5 "Helvetica Neue", Helvetica, Arial, sans-serif;
        color: #111;
        background-color: #fbfbfb;
        -webkit-text-size-adjust: 100%;
        -webkit-font-feature-settings: "kern" 1;
        -moz-font-feature-settings: "kern" 1;
        -o-font-feature-settings: "kern" 1;
        font-feature-settings: "kern" 1;
        font-kerning: normal;
        padding: 30px;
      }
      
      @media only screen and (max-width: 600px) {
        body {
            padding: 5px;
        }
        body>#content {
            padding: 0px 20px 20px 20px !important;
        }
      }
      
      body>#content {
        margin: 0px;
        max-width: 900px;
        border: 1px solid #e1e4e8;
        padding: 10px 40px;
        padding-bottom: 20px;
        border-radius: 2px;
        margin-left: auto;
        margin-right: auto;
      }
      
      hr {
        color: #bbb;
        background-color: #bbb;
        height: 1px;
        flex: 0 1 auto;
        margin: 1em 0;
        padding: 0;
        border: none;
      }
      
      
      /**
      * Links
      */
      
      a {
        color: #0366d6;
        text-decoration: none;
      }
      
      a:visited {
        color: #0366d6;
      }
      
      a:hover {
        color: #0366d6;
        text-decoration: underline;
      }
      
      pre {
        background-color: #f6f8fa;
        border-radius: 3px;
        font-size: 85%;
        line-height: 1.45;
        overflow: auto;
        padding: 16px;
      }
      
      
      /**
      * Code blocks
      */
      
      code {
        background-color: rgba(27, 31, 35, .05);
        border-radius: 3px;
        font-size: 85%;
        margin: 0;
        word-wrap: break-word;
        padding: .2em .4em;
        font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
      }
      
      pre>code {
        background-color: transparent;
        border: 0;
        display: inline;
        line-height: inherit;
        margin: 0;
        overflow: visible;
        padding: 0;
        word-wrap: normal;
        font-size: 100%;
      }
      
      
      /**
      * Blockquotes
      */
      
      blockquote {
        margin-left: 30px;
        margin-top: 0px;
        margin-bottom: 16px;
        border-left-width: 3px;
        padding: 0 1em;
        color: #828282;
        border-left: 4px solid #e8e8e8;
        padding-left: 15px;
        font-size: 18px;
        letter-spacing: -1px;
        font-style: italic;
      }
      
      blockquote * {
        font-style: normal !important;
        letter-spacing: 0;
        color: #6a737d !important;
      }
      
      
      /**
      * Tables
      */
      
      table {
        border-spacing: 2px;
        display: block;
        font-size: 14px;
        overflow: auto;
        width: 100%;
        margin-bottom: 16px;
        border-spacing: 0;
        border-collapse: collapse;
      }
      
      td {
        padding: 6px 13px;
        border: 1px solid #dfe2e5;
      }
      
      th {
        font-weight: 600;
        padding: 6px 13px;
        border: 1px solid #dfe2e5;
      }
      
      tr {
        background-color: #fff;
        border-top: 1px solid #c6cbd1;
      }
      
      table tr:nth-child(2n) {
        background-color: #f6f8fa;
      }
      
      
      /**
      * Others
      */
      
      img {
        max-width: 100%;
      }
      
      p {
        line-height: 24px;
        font-weight: 400;
        font-size: 16px;
        color: #24292e;
      }
      
      ul {
        margin-top: 0;
      }
      
      li {
        color: #24292e;
        font-size: 16px;
        font-weight: 400;
        line-height: 1.5;
      }
      
      li+li {
        margin-top: 0.25em;
      }
      
      * {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
        color: #24292e;
      }
      
      a:visited {
        color: #0366d6;
      }
      
      h1,
      h2,
      h3 {
        border-bottom: 1px solid #eaecef;
        color: #111;
        /* Darker */
      }
      
      code>* {
        font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace !important;
      }
    </style>
    <style type='text/css'>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-built_in,.hljs-class .hljs-title,.hljs-title.class_{color:#c18401}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style>
  </head>
  <body>
    <div id='content'>
<h1 id="barcode-reader-for-your-website---user-guide">Barcode Reader for Your Website - User Guide</h1>
<p><a href="https://www.dynamsoft.com/barcode-reader/sdk-javascript/">Dynamsoft Barcode Reader JavaScript Edition</a> (DBR-JS) is equipped with industry-leading algorithms for exceptional speed, accuracy and read rates in barcode reading. Using its well-designed API, you can turn your web page into a barcode scanner with just a few lines of code.</p>
<p><img src="https://img.shields.io/npm/v/dynamsoft-barcode-reader.svg" alt="version" /><br />
<img src="https://img.shields.io/npm/dm/dynamsoft-barcode-reader.svg" alt="downloads" /><br />
<img src="https://img.shields.io/jsdelivr/npm/hm/dynamsoft-barcode-reader.svg" alt="jsdelivr" /></p>
<p><img src="https://img.shields.io/npm/v/dynamsoft-javascript-barcode.svg" alt="version" /><br />
<img src="https://img.shields.io/npm/dm/dynamsoft-javascript-barcode.svg" alt="downloads" /><br />
<img src="https://img.shields.io/jsdelivr/npm/hm/dynamsoft-javascript-barcode.svg" alt="jsdelivr" /></p>
<p>Once the DBR-JS SDK gets integrated into your web page, your users can access a camera via the browser and read barcodes directly from its video input.</p>
<p>In this guide, you will learn step by step on how to integrate the DBR-JS SDK into your website.</p>
<p><span style="font-size:20px">Table of Contents</span></p>
<ul>
<li><a href="#barcode-reader-for-your-website---user-guide">Barcode Reader for Your Website - User Guide</a></li>
<li><a href="#hello-world---simplest-implementation">Hello World - Simplest Implementation</a><ul>
<li><a href="#understand-the-code">Understand the code</a></li>
<li><a href="#about-the-code">About the code</a></li>
<li><a href="#run-the-example">Run the example</a></li></ul></li>
<li><a href="#building-your-own-page">Building your own page</a><ul>
<li><a href="#include-the-sdk">Include the SDK</a></li>
<li><a href="#use-a-public-cdn">Use a public CDN</a></li>
<li><a href="#host-the-sdk-yourself-optional">Host the SDK yourself (optional)</a></li>
<li><a href="#prepare-the-sdk">Prepare the SDK</a></li>
<li><a href="#specify-the-license">Specify the license</a></li>
<li><a href="#specify-the-location-of-the-engine-files-optional">Specify the location of the "engine" files (optional)</a></li>
<li><a href="#set-up-and-start-image-processing">Set up and start image processing</a></li>
<li><a href="#preload-the-module">Preload the module</a></li>
<li><a href="#create-a-capturevisionrouter-object">Create a CaptureVisionRouter object</a></li>
<li><a href="#connect-an-image-source">Connect an image source</a></li>
<li><a href="#register-a-result-receiver">Register a result receiver</a></li>
<li><a href="#start-the-process">Start the process</a></li>
<li><a href="#customize-the-process">Customize the process</a></li>
<li><a href="#adjust-the-preset-template-settings">Adjust the preset template settings</a><ul>
<li><a href="#change-barcode-settings">Change barcode settings</a></li>
<li><a href="#retrieve-the-original-image">Retrieve the original image</a></li>
<li><a href="#change-reading-frequency-to-save-power">Change reading frequency to save power</a></li>
<li><a href="#specify-a-scan-region">Specify a scan region</a></li></ul></li>
<li><a href="#edit-the-preset-templates-directly">Edit the preset templates directly</a></li>
<li><a href="#filter-the-results-important">Filter the results (Important)</a><ul>
<li><a href="#option-1-verify-results-across-multiple-frames">Option 1: Verify results across multiple frames</a></li>
<li><a href="#option-2-eliminate-redundant-results-detected-within-a-short-time-frame">Option 2: Eliminate redundant results detected within a short time frame</a></li></ul></li>
<li><a href="#add-feedback">Add feedback</a></li>
<li><a href="#customize-the-ui">Customize the UI</a></li></ul></li>
<li><a href="#api-documentation">API Documentation</a></li>
<li><a href="#system-requirements">System Requirements</a></li>
<li><a href="#how-to-upgrade">How to Upgrade</a></li>
<li><a href="#release-notes">Release Notes</a></li>
<li><a href="#next-steps">Next Steps</a></li>
</ul>
<p><strong>Popular Examples</strong></p>
<ul>
<li>Hello World - <a href="https://github.com/Dynamsoft/barcode-reader-javascript-samples/blob/v10.4.20/hello-world/hello-world.html">Github</a> | <a href="https://demo.dynamsoft.com/Samples/DBR/JS/hello-world/hello-world.html?ver=10.4.20&utm_source=npm">Run</a></li>
<li>Angular App - <a href="https://github.com/Dynamsoft/barcode-reader-javascript-samples/blob/v10.4.20/hello-world/angular">Github</a></li>
<li>React App - <a href="https://github.com/Dynamsoft/barcode-reader-javascript-samples/blob/v10.4.20/hello-world/react">Github</a></li>
<li>Vue App - <a href="https://github.com/Dynamsoft/barcode-reader-javascript-samples/blob/v10.4.20/hello-world/vue">Github</a></li>
<li>PWA App - <a href="https://github.com/Dynamsoft/barcode-reader-javascript-samples/blob/v10.4.20/hello-world/pwa">Github</a></li>
<li>WebView in Android and iOS - <a href="https://github.com/Dynamsoft/barcode-reader-javascript-samples/tree/v10.4.20/hello-world/webview">Github</a></li>
<li>Read Driver Licenses - <a href="https://github.com/Dynamsoft/barcode-reader-javascript-samples/blob/v10.4.20/use-case/read-a-drivers-license/index.html">Github</a></li>
<li>Fill A Form - <a href="https://github.com/Dynamsoft/barcode-reader-javascript-samples/blob/v10.4.20/use-case/fill-a-form-with-barcode-reading.html">Github</a></li>
<li>Show result information on the video - <a href="https://github.com/Dynamsoft/barcode-reader-javascript-samples/blob/v10.4.20/use-case/show-result-texts-on-the-video.html">Github</a></li>
<li>Debug Camera and Collect Video Frame - <a href="https://github.com/Dynamsoft/barcode-reader-javascript-samples/blob/v10.4.20/others/debug">Github</a></li>
</ul>
<p>You can also:</p>
<ul>
<li>Try the Official Demo - <a href="https://github.com/Dynamsoft/barcode-reader-javascript-demo/">Github</a> | <a href="https://demo.dynamsoft.com/barcode-reader-js/?ver=10.4.20&utm_source=npm">Run</a></li>
<li>Try Online Examples - <a href="https://github.com/Dynamsoft/barcode-reader-javascript-samples/tree/v10.4.20/">Github</a></li>
</ul>
<h2 id="hello-world---simplest-implementation">Hello World - Simplest Implementation</h2>
<p>Let's start with the "Hello World" example of the DBR-JS SDK which demonstrates how to use the minimum code to enable a web page to read barcodes from a live video stream.  </p>
<p><strong>Basic Requirements</strong></p>
<ul>
<li>Internet connection</li>
<li><a href="#system-requirements">A supported browser</a></li>
<li>Camera access</li>
</ul>
<h3 id="understand-the-code">Understand the code</h3>
<p>The complete code of the "Hello World" example is shown below</p>
<pre><code class="hljs html language-html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"camera-view-container"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 100%; height: 60vh"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"results"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 100%; min-height: 10vh; font-size: 3vmin; overflow: auto"</span> <span class="hljs-attr">disabled</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/dynamsoft-barcode-reader-bundle@10.4.2002/dist/dbr.bundle.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  Dynamsoft.License.LicenseManager.initLicense(<span class="hljs-string">"DLS2eyJvcmdhbml6YXRpb25JRCI6IjIwMDAwMSJ9"</span>);
  Dynamsoft.Core.CoreModule.loadWasm([<span class="hljs-string">"dbr"</span>]);
  <span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">async</span> (</span>) =&gt;</span> {
    <span class="hljs-keyword">let</span> cvRouter = <span class="hljs-keyword">await</span> Dynamsoft.CVR.CaptureVisionRouter.createInstance();

    <span class="hljs-keyword">let</span> cameraView = <span class="hljs-keyword">await</span> Dynamsoft.DCE.CameraView.createInstance();
    <span class="hljs-keyword">let</span> cameraEnhancer = <span class="hljs-keyword">await</span> Dynamsoft.DCE.CameraEnhancer.createInstance(cameraView);
    <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">"#camera-view-container"</span>).append(cameraView.getUIElement());
    cvRouter.setInput(cameraEnhancer);

    <span class="hljs-keyword">const</span> resultsContainer = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">"#results"</span>);
    cvRouter.addResultReceiver({ <span class="hljs-attr">onDecodedBarcodesReceived</span>: <span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (result.barcodeResultItems.length &gt; <span class="hljs-number">0</span>) {
        resultsContainer.textContent = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> result.barcodeResultItems) {
          resultsContainer.textContent += <span class="hljs-string">`<span class="hljs-subst">${item.formatString}</span>: <span class="hljs-subst">${item.text}</span>\n\n`</span>;
        }
      }
    }});

    <span class="hljs-keyword">let</span> filter = <span class="hljs-keyword">new</span> Dynamsoft.Utility.MultiFrameResultCrossFilter();
    filter.enableResultCrossVerification(<span class="hljs-string">"barcode"</span>, <span class="hljs-literal">true</span>);
    filter.enableResultDeduplication(<span class="hljs-string">"barcode"</span>, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">await</span> cvRouter.addResultFilter(filter);

    <span class="hljs-keyword">await</span> cameraEnhancer.open();
    <span class="hljs-keyword">await</span> cvRouter.startCapturing(<span class="hljs-string">"ReadSingleBarcode"</span>);
  })();
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<!--TOM: Update the code links-->
<p align="center" style="text-align:center; white-space: normal; ">
  <a target="_blank" href="https://github.com/Dynamsoft/barcode-reader-javascript-samples/blob/v10.4.20/hello-world/hello-world.html" title="Code in Github" style="text-decoration:none;">
    <img src="https://cdn.jsdelivr.net/npm/simple-icons@3.0.1/icons/github.svg" alt="Code in Github" width="20" height="20" style="width:20px;height:20px;">
  </a>
  &nbsp;
  <a target="_blank" href="https://jsfiddle.net/DynamsoftTeam/csm2f9wb/" title="Run via JSFiddle" style="text-decoration:none;">
    <img src="https://cdn.jsdelivr.net/npm/simple-icons@3.0.1/icons/jsfiddle.svg" alt="Run via JSFiddle" width="20" height="20" style="width:20px;height:20px;" >
  </a>
  &nbsp;
  <a target="_blank" href="https://demo.dynamsoft.com/Samples/DBR/JS/hello-world/hello-world.html?ver=10.4.20&utm_source=npm" title="Run in Dynamsoft" style="text-decoration:none;">
    <img src="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/svgs/solid/circle-play.svg" alt="Run in Dynamsoft" width="20" height="20" style="width:20px;height:20px;">
  </a>
</p>
<blockquote>
  <p>Don't want to deal with too many details? We also have an <strong>out-of-the-box</strong> version:</p>
  <p><a href="https://github.com/Dynamsoft/easy-barcode-scanner">Easy Barcode Scanner >></a> available for your reference.</p>
<pre><code class="hljs js language-js"><span class="hljs-comment">// Scan instantly with a single function!</span>
<span class="hljs-keyword">let</span> txt = <span class="hljs-keyword">await</span> EasyBarcodeScanner.scan();
</code></pre>
</blockquote>
<hr />
<h4 id="about-the-code">About the code</h4>
<ul>
<li><p><code>Dynamsoft.License.LicenseManager.initLicense()</code>: This method initializes the license for using the SDK in the application. Note that the string "<strong>DLS2eyJvcmdhbml6YXRpb25JRCI6IjIwMDAwMSJ9</strong>" used in this example points to an online license that requires a network connection to work. Read more on <a href="#specify-the-license">Specify the license</a>.</p></li>
<li><p><code>Dynamsoft.Core.CoreModule.loadWasm(["dbr"])</code>: This is an optional code. Used to load wasm resources in advance, reducing latency between video playing and barcode decoding.</p></li>
<li><p><code>Dynamsoft.CVR.CaptureVisionRouter.createInstance()</code>: This method creates a <code>CaptureVisionRouter</code> object <code>cvRouter</code> which controls the entire process in three steps:</p></li>
<li><p><strong>Retrieve Images from the Image Source</strong></p>
<ul>
<li><code>cvRouter</code> connects to the image source through the <a href="https://www.dynamsoft.com/capture-vision/docs/core/architecture/input.html#image-source-adapter?lang=js">ImageSourceAdapter</a> interface with the method <code>setInput()</code>.<br />
<code>js
cvRouter.setInput(cameraEnhancer);
</code><br />
&gt; The image source in our case is a <a href="https://www.dynamsoft.com/camera-enhancer/docs/web/programming/javascript/user-guide/index.html">CameraEnhancer</a> object created with <code>Dynamsoft.DCE.CameraEnhancer.createInstance(cameraView)</code></li></ul></li>
<li><p><strong>Coordinate Image-Processing Tasks</strong></p>
<ul>
<li>The coordination happens behind the scenes. <code>cvRouter</code> starts the process by specifying a preset template "ReadSingleBarcode" in the method <code>startCapturing()</code>.<br />
<code>js
cvRouter.startCapturing("ReadSingleBarcode");
</code></li></ul></li>
<li><p><strong>Dispatch Results to Listening Objects</strong></p>
<ul>
<li>The processing results are returned through the <a href="https://www.dynamsoft.com/capture-vision/docs/core/architecture/output.html#captured-result-receiver?lang=js">CapturedResultReceiver</a> interface. The <code>CapturedResultReceiver</code> object is registered to <code>cvRouter</code> via the method <code>addResultReceiver()</code>. For more information, please check out <a href="#register-a-result-receiver">Register a result receiver</a>.<br />
<code>js
cvRouter.addResultReceiver({/*The-CapturedResultReceiver-Object"*/});
</code></li>
<li>Also note that reading from video is extremely fast and there could be many duplicate results. We can use a <a href="#filter-the-results-important">filter</a> with result deduplication enabled to filter out the duplicate results. The object is registered to <code>cvRouter</code> via the method <code>addResultFilter()</code>.<br />
<code>js
cvRouter.addResultFilter(filter);
</code></li></ul></li>
</ul>
<blockquote>
  <p>Read more on <a href="https://www.dynamsoft.com/capture-vision/docs/core/architecture/#capture-vision-router">Capture Vision Router</a>.</p>
</blockquote>
<h3 id="run-the-example">Run the example</h3>
<p>You can run the example deployed to <a href="https://demo.dynamsoft.com/Samples/DBR/JS/hello-world/hello-world.html?ver=10.4.20&utm_source=npm">the Dynamsoft Demo Server</a> or test it with <a href="https://jsfiddle.net/DynamsoftTeam/csm2f9wb/">JSFiddle code editor</a>. </p>
<p>You will be asked to allow access to your camera, after which the video will be displayed on the page. After that, you can point the camera at a barcode to read it.</p>
<p>When a barcode is decoded, you will see the result text show up under the video and the barcode location will be highlighted in the video feed.</p>
<p>Alternatively, you can test locally by copying and pasting the code shown above into a local file (e.g. "hello-world.html") and opening it in your browser.</p>
<p><em>Note</em>:</p>
<p>If you open the web page as <code>file:///</code> or <code>http://</code> , the camera may not work correctly because the <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia">MediaDevices: getUserMedia()</a> method only works in secure contexts (HTTPS), in some or all supporting browsers.</p>
<p>To make sure your web application can access the camera, please configure your web server to support HTTPS. The following links may help.</p>
<ol>
<li>NGINX: <a href="https://nginx.org/en/docs/http/configuring_https_servers.html">Configuring HTTPS servers</a></li>
<li>IIS: <a href="https://aboutssl.org/how-to-create-a-self-signed-certificate-in-iis/">How to create a Self Signed Certificate in IIS</a></li>
<li>Tomcat: <a href="https://dzone.com/articles/setting-ssl-tomcat-5-minutes">Setting Up SSL on Tomcat in 5 minutes</a></li>
<li>Node.js: <a href="https://nodejs.org/docs/v0.4.1/api/tls.html">npm tls</a></li>
</ol>
<p>If the test doesn't go as expected, you can <a href="https://www.dynamsoft.com/company/contact/?ver=10.4.20&utm_source=npm&product=dbr&package=js">contact us</a>.</p>
<h2 id="building-your-own-page">Building your own page</h2>
<h3 id="include-the-sdk">Include the SDK</h3>
<p>To utilize the SDK, the initial step involves including the corresponding resource files:</p>
<ul>
<li><code>core.js</code> encompasses common classes, interfaces, and enumerations shared across all Dynamsoft SDKs.</li>
<li><code>license.js</code> introduces the <code>LicenseManager</code> class, which manages the licensing for all Dynamsoft SDKs.</li>
<li><code>utility.js</code> encompasses auxiliary classes shared among all Dynamsoft SDKs.</li>
<li><code>dbr.js</code> defines interfaces and enumerations tailored to the barcode reader module.</li>
<li><code>cvr.js</code> introduces the <code>CaptureVisionRouter</code> class, which governs the entire image processing workflow.</li>
<li><code>dce.js</code> comprises classes that offer camera support and basic user interface functionalities.</li>
</ul>
<p>To simplify things, starting from version 10.0.21, we introduced <code>dbr.bundle.js</code>, which combines all six of the above files. In the following chapters, we will use <code>dbr.bundle.js</code>.</p>
<h4 id="use-a-public-cdn">Use a public CDN</h4>
<p>The simplest way to include the SDK is to use either the <a href="https://jsdelivr.com/">jsDelivr</a> or <a href="https://unpkg.com/">UNPKG</a> CDN. The "hello world" example above uses <strong>jsDelivr</strong>.</p>
<ul>
<li>jsDelivr</li>
</ul>
<pre><code class="hljs html language-html">  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/dynamsoft-barcode-reader-bundle@10.4.2002/dist/dbr.bundle.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<ul>
<li>UNPKG</li>
</ul>
<pre><code class="hljs html language-html">  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://unpkg.com/dynamsoft-barcode-reader-bundle@10.4.2002/dist/dbr.bundle.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<ul>
<li>In some rare cases (such as some restricted areas), you might not be able to access the CDN. If this happens, you can use the following files for the test.</li>
</ul>
<pre><code class="hljs html language-html">  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://download2.dynamsoft.com/packages/dynamsoft-barcode-reader-bundle@10.4.2002/dist/dbr.bundle.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>However, please <strong>DO NOT</strong> use <code>download2.dynamsoft.com</code> resources in a production application as they are for temporary testing purposes only. Instead, you can try hosting the SDK yourself.</p>
<ul>
<li>In frameworks like React and Vue, you may want to add the package as a dependency.</li>
</ul>
<pre><code class="hljs sh language-sh">  npm i dynamsoft-barcode-reader-bundle@10.4.2002 -E
  <span class="hljs-comment"># or</span>
  yarn add dynamsoft-barcode-reader-bundle@10.4.2002 -E
</code></pre>
<p>NOTE that in frameworks, you need to <a href="#specify-the-location-of-the-engine-files-optional">specify the engineResourcePaths</a>.</p>
<h4 id="host-the-sdk-yourself-optional">Host the SDK yourself (optional)</h4>
<p>Besides using the public CDN, you can also download the SDK and host its files on your own server or a commercial CDN before including it in your application.</p>
<p>There are two options for downloading the SDK, and the usage for each is slightly different</p>
<ul>
<li><p>From the website</p>
<p><a href="https://www.dynamsoft.com/barcode-reader/downloads/?ver=10.4.20&utm_source=npm&product=dbr&package=js">Download Dynamsoft Barcode Reader JavaScript Package</a></p>
<p>The resources are located at path <code>dynamsoft/distributables/&lt;pkg&gt;@&lt;version&gt;</code>, you can typically include it like this:</p></li>
</ul>
<pre><code class="hljs html language-html">  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"dynamsoft/distributables/dynamsoft-barcode-reader-bundle@10.4.2002/dist/dbr.bundle.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<ul>
<li>npm</li>
</ul>
<pre><code class="hljs sh language-sh">  npm i dynamsoft-barcode-reader-bundle@10.4.2002 -E
  <span class="hljs-comment"># Compared with using CDN, you need to set up more resources.</span>
  npm i dynamsoft-capture-vision-std@1.4.10 -E
  npm i dynamsoft-image-processing@2.4.20 -E
</code></pre>
<p>The resources are located at the path <code>node_modules/&lt;pkg&gt;</code>, without <code>@&lt;version&gt;</code>, so the script would be like:</p>
<pre><code class="hljs html language-html">  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"node_modules/dynamsoft-barcode-reader-bundle/dist/dbr.bundle.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>Since the version tags (<code>@&lt;version&gt;</code>) are missing, you need to <a href="#specify-the-location-of-the-engine-files-optional">specify the engineResourcePaths</a> so that the SDK can find the resources correctly.</p>
<blockquote>
  <p>To avoid confusion, we suggest renaming "node<em>modules" or moving "dynamsoft-" packages elsewhere for self-hosting, as "node</em>modules" is reserved for Node.js dependencies.</p>
</blockquote>
<p><em>Note</em>:</p>
<ul>
<li>Certain legacy web application servers may lack support for the <code>application/wasm</code> mimetype for .wasm files. To address this, you have two options:</li>
</ul>
<ol>
<li>Upgrade your web application server to one that supports the <code>application/wasm</code> mimetype.</li>
<li>Manually define the mimetype on your server. You can refer to the following resources for guidance:<ol>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/Server-side/Apache_Configuration_htaccess#media_types_and_character_encodings">Apache</a></li>
<li><a href="https://docs.microsoft.com/en-us/iis/configuration/system.webserver/staticcontent/mimemap">IIS</a></li>
<li><a href="https://www.nginx.com/resources/wiki/start/topics/examples/full/#mime-types">Nginx</a></li></ol></li>
</ol>
<ul>
<li>To work properly, the SDK requires a few engine files, which are relatively large and may take quite a few seconds to download. We recommend that you set a longer cache time for these engine files, to maximize the performance of your web application.</li>
</ul>
<pre><code class="hljs cmd language-cmd">  Cache-Control: max-age=<span class="hljs-number">31536000</span>
</code></pre>
<p>Reference: <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control">Cache-Control</a>.</p>
<h3 id="prepare-the-sdk">Prepare the SDK</h3>
<p>Before using the SDK, you need to configure a few things.</p>
<h4 id="specify-the-license">Specify the license</h4>
<p>To enable the SDK's functionality, you must provide a valid license. Utilize the API function initLicense to set your license key.</p>
<pre><code class="hljs javascript language-javascript">Dynamsoft.License.LicenseManager.initLicense(<span class="hljs-string">"DLS2eyJvcmdhbml6YXRpb25JRCI6IjIwMDAwMSJ9"</span>);
</code></pre>
<p>As previously stated, the key "DLS2eyJvcmdhbml6YXRpb25JRCI6IjIwMDAwMSJ9" serves as a test license valid for 24 hours, applicable to any newly authorized browser. To test the SDK further, you can request a 30-day free trial license via the <a href="https://www.dynamsoft.com/customer/license/trialLicense?ver=10.4.20&utm_source=npm&product=dbr&package=js" target="_blank">Request a Trial License</a> link.</p>
<blockquote>
  <p>Upon registering a Dynamsoft account and obtaining the SDK package from the official website, Dynamsoft will automatically create a 30-day free trial license and embed the corresponding license key into all the provided SDK samples.</p>
</blockquote>
<h4 id="specify-the-location-of-the-engine-files-optional">Specify the location of the "engine" files (optional)</h4>
<p>This is usually only required with frameworks like Angular or React, etc. where the referenced JavaScript files such as <code>cvr.js</code>, <code>dbr.js</code> are compiled into another file.</p>
<p>The purpose is to tell the SDK where to find the engine files (*.worker.js, *.wasm.js and *.wasm, etc.). The API is called <code>Dynamsoft.Core.CoreModule.engineResourcePaths</code>:</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-comment">//The following code uses the jsDelivr CDN as an example, feel free to change it to your own location of these files</span>
CoreModule.engineResourcePaths.rootDirectory = <span class="hljs-string">"https://cdn.jsdelivr.net/npm/"</span>;
</code></pre>
<h3 id="set-up-and-start-image-processing">Set up and start image processing</h3>
<h4 id="preload-the-module">Preload the module</h4>
<p>The image processing logic is encapsulated within .wasm library files, and these files may require some time for downloading. To enhance the speed, we advise utilizing the following method to preload the libraries.</p>
<pre><code class="hljs js language-js"><span class="hljs-comment">// Preload the .wasm files</span>
<span class="hljs-keyword">await</span> Dynamsoft.Core.CoreModule.loadWasm([<span class="hljs-string">"dbr"</span>]);
</code></pre>
<h4 id="create-a-capturevisionrouter-object">Create a CaptureVisionRouter object</h4>
<p>To use the SDK, we first create a <code>CaptureVisionRouter</code> object.</p>
<pre><code class="hljs javascript language-javascript">Dynamsoft.License.LicenseManager.initLicense(<span class="hljs-string">"DLS2eyJvcmdhbml6YXRpb25JRCI6IjIwMDAwMSJ9"</span>);

<span class="hljs-keyword">let</span> cvRouter = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">try</span> {
    cvRouter = <span class="hljs-keyword">await</span> Dynamsoft.CVR.CaptureVisionRouter.createInstance();
} <span class="hljs-keyword">catch</span> (ex) {
    <span class="hljs-built_in">console</span>.error(ex);
}
</code></pre>
<p><em>Tip</em>:</p>
<p>When creating a <code>CaptureVisionRouter</code> object within a function which may be called more than once, it's best to use a "helper" variable to avoid double creation such as <code>pCvRouter</code> in the following code:</p>
<pre><code class="hljs javascript language-javascript">Dynamsoft.License.LicenseManager.initLicense(<span class="hljs-string">"DLS2eyJvcmdhbml6YXRpb25JRCI6IjIwMDAwMSJ9"</span>);

<span class="hljs-keyword">let</span> pCvRouter = <span class="hljs-literal">null</span>; <span class="hljs-comment">// The helper variable which is a promise of cvRouter</span>
<span class="hljs-keyword">let</span> cvRouter = <span class="hljs-literal">null</span>;

<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'btn-scan'</span>).addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">try</span> {
        cvRouter = <span class="hljs-keyword">await</span> (pCvRouter = pCvRouter || Dynamsoft.CVR.CaptureVisionRouter.createInstance());
    } <span class="hljs-keyword">catch</span> (ex) {
        <span class="hljs-built_in">console</span>.error(ex);
    }
});
</code></pre>
<h4 id="connect-an-image-source">Connect an image source</h4>
<p>The <code>CaptureVisionRouter</code> object, denoted as <code>cvRouter</code>, is responsible for handling images provided by an image source. In our scenario, we aim to detect barcodes directly from a live video stream. To facilitate this, we initialize a <code>CameraEnhancer</code> object, identified as <code>cameraEnhancer</code>, which is specifically designed to capture image frames from the video feed and subsequently forward them to <code>cvRouter</code>.</p>
<p>To enable video streaming on the webpage, we create a <code>CameraView</code> object referred to as <code>cameraView</code>, which is then passed to <code>cameraEnhancer</code>, and its content is displayed on the webpage.</p>
<pre><code class="hljs html language-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"camera-view-container"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 100%; height: 100vh"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">let</span> cameraView = <span class="hljs-keyword">await</span> Dynamsoft.DCE.CameraView.createInstance();
<span class="hljs-keyword">let</span> cameraEnhancer = <span class="hljs-keyword">await</span> Dynamsoft.DCE.CameraEnhancer.createInstance(cameraView);
<span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">"#camera-view-container"</span>).append(cameraView.getUIElement());
cvRouter.setInput(cameraEnhancer);
</code></pre>
<h4 id="register-a-result-receiver">Register a result receiver</h4>
<p>Once the image processing is complete, the results are sent to all the registered <code>CapturedResultReceiver</code> objects. Each <code>CapturedResultReceiver</code> object may encompass one or multiple callback functions associated with various result types. In our particular case, our focus is on identifying barcodes within the images, so it's sufficient to define the callback function <code>onDecodedBarcodesReceived</code>:</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">const</span> resultsContainer = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">"#results"</span>);
<span class="hljs-keyword">const</span> resultReceiver = <span class="hljs-keyword">new</span> Dynamsoft.CVR.CapturedResultReceiver();
resultReceiver.onDecodedBarcodesReceived = <span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (result.barcodeResultItems.length &gt; <span class="hljs-number">0</span>) {
    resultsContainer.textContent = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> result.barcodeResultItems) {
      <span class="hljs-comment">// In this example, the barcode results are displayed on the page below the video.</span>
      resultsContainer.textContent += <span class="hljs-string">`<span class="hljs-subst">${item.formatString}</span>: <span class="hljs-subst">${item.text}</span>\n\n`</span>;
    }
  }
};
cvRouter.addResultReceiver(resultReceiver);
</code></pre>
<p>You can also write code like this. It is the same.</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">const</span> resultsContainer = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">"#results"</span>);
cvRouter.addResultReceiver({ <span class="hljs-attr">onDecodedBarcodesReceived</span>: <span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (result.barcodeResultItems.length &gt; <span class="hljs-number">0</span>) {
    resultsContainer.textContent = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> result.barcodeResultItems) {
      <span class="hljs-comment">// In this example, the barcode results are displayed on the page below the video.</span>
      resultsContainer.textContent += <span class="hljs-string">`<span class="hljs-subst">${item.formatString}</span>: <span class="hljs-subst">${item.text}</span>\n\n`</span>;
    }
  }
}});
</code></pre>
<p>Check out <a href="https://www.dynamsoft.com/capture-vision/docs/web/programming/javascript/api-reference/capture-vision-router/captured-result-receiver.html">CapturedResultReceiver</a> for more information.</p>
<h4 id="start-the-process">Start the process</h4>
<p>With the setup now complete, we can proceed to process the images in two straightforward steps:</p>
<ol>
<li>Initiate the image source to commence image acquisition. In our scenario, we invoke the <code>open()</code> method on <code>cameraEnhancer</code> to initiate video streaming and simultaneously initiate the collection of images. These collected images will be dispatched to <code>cvRouter</code> as per its request.</li>
<li>Define a preset template to commence image processing. In our case, we utilize the "ReadSingleBarcode" template, specifically tailored for processing images containing a single barcode.</li>
</ol>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">await</span> cameraEnhancer.open();
<span class="hljs-keyword">await</span> cvRouter.startCapturing(<span class="hljs-string">"ReadSingleBarcode"</span>);
</code></pre>
<p><em>Note</em>:</p>
<ul>
<li><code>cvRouter</code> is engineered to consistently request images from the image source.</li>
<li>Various preset templates are at your disposal for barcode reading:</li>
</ul>
<table>
<thead>
<tr>
<th>Template Name</th>
<th>Function Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ReadBarcodes_Default</strong></td>
<td>Scans multiple barcodes by default setting.</td>
</tr>
<tr>
<td><strong>ReadSingleBarcode</strong></td>
<td>Quickly scans a single barcode.</td>
</tr>
<tr>
<td><strong>ReadBarcodes_SpeedFirst</strong></td>
<td>Prioritizes speed in scanning multiple barcodes.</td>
</tr>
<tr>
<td><strong>ReadBarcodes_ReadRateFirst</strong></td>
<td>Maximizes the number of barcodes read.</td>
</tr>
<tr>
<td><strong>ReadBarcodes_Balance</strong></td>
<td>Balances speed and quantity in reading multiple barcodes.</td>
</tr>
<tr>
<td><strong>ReadDenseBarcodes</strong></td>
<td>Specialized in reading barcodes with high information density.</td>
</tr>
<tr>
<td><strong>ReadDistantBarcodes</strong></td>
<td>Capable of reading barcodes from extended distances.</td>
</tr>
</tbody>
</table>
<p>Read more on the <a href="https://www.dynamsoft.com/capture-vision/docs/web/programming/javascript/api-reference/capture-vision-router/preset-templates.html">preset CaptureVisionTemplates</a>.</p>
<h3 id="customize-the-process">Customize the process</h3>
<h4 id="adjust-the-preset-template-settings">Adjust the preset template settings</h4>
<p>When making adjustments to some basic tasks, we often only need to modify <a href="https://www.dynamsoft.com/capture-vision/docs/web/programming/javascript/api-reference/capture-vision-router/interfaces/simplified-capture-vision-settings.html">SimplifiedCaptureVisionSettings</a>.</p>
<h5 id="change-barcode-settings">Change barcode settings</h5>
<p>The preset templates can be updated to meet different requirements. For example, the following code limits the barcode format to QR code.</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">let</span> settings = <span class="hljs-keyword">await</span> cvRouter.getSimplifiedSettings(<span class="hljs-string">"ReadSingleBarcode"</span>);
settings.barcodeSettings.barcodeFormatIds =
  Dynamsoft.DBR.EnumBarcodeFormat.BF_QR_CODE;
<span class="hljs-keyword">await</span> cvRouter.updateSettings(<span class="hljs-string">"ReadSingleBarcode"</span>, settings);
<span class="hljs-keyword">await</span> cvRouter.startCapturing(<span class="hljs-string">"ReadSingleBarcode"</span>);
</code></pre>
<p>For a list of adjustable barcode settings, check out <a href="https://www.dynamsoft.com/barcode-reader/docs/web/programming/javascript/api-reference/interfaces/simplified-barcode-reader-settings.html">SimplifiedBarcodeReaderSettings</a>.</p>
<h5 id="retrieve-the-original-image">Retrieve the original image</h5>
<p>Additionally, we have the option to modify the template to retrieve the original image containing the barcode.</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">let</span> settings = <span class="hljs-keyword">await</span> cvRouter.getSimplifiedSettings(<span class="hljs-string">"ReadSingleBarcode"</span>);
settings.capturedResultItemTypes |= 
  Dynamsoft.Core.EnumCapturedResultItemType.CRIT_ORIGINAL_IMAGE;
<span class="hljs-keyword">await</span> cvRouter.updateSettings(<span class="hljs-string">"ReadSingleBarcode"</span>, settings);
<span class="hljs-keyword">await</span> cvRouter.startCapturing(<span class="hljs-string">"ReadSingleBarcode"</span>);
</code></pre>
<p>Limit the barcode format to QR code, and retrieve the original image containing the barcode, at the same time.</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">let</span> settings = <span class="hljs-keyword">await</span> cvRouter.getSimplifiedSettings(<span class="hljs-string">"ReadSingleBarcode"</span>);
settings.capturedResultItemTypes = 
  Dynamsoft.DBR.EnumBarcodeFormat.BF_QR_CODE |
  Dynamsoft.Core.EnumCapturedResultItemType.CRIT_ORIGINAL_IMAGE;
<span class="hljs-keyword">await</span> cvRouter.updateSettings(<span class="hljs-string">"ReadSingleBarcode"</span>, settings);
<span class="hljs-keyword">await</span> cvRouter.startCapturing(<span class="hljs-string">"ReadSingleBarcode"</span>);
</code></pre>
<p>Please be aware that it is necessary to update the <code>CapturedResultReceiver</code> object to obtain the original image. For instance:</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">const</span> EnumCRIT = Dynamsoft.Core.EnumCapturedResultItemType;
resultReceiver.onCapturedResultReceived = <span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {
  <span class="hljs-keyword">let</span> barcodes = result.items.filter(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.type === EnumCRIT.CRIT_BARCODE);
  <span class="hljs-keyword">if</span> (barcodes.length &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-comment">// Use a filter to get the image on which barcodes are found.</span>
    <span class="hljs-keyword">let</span> image = result.items.filter(
      <span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.type === EnumCRIT.CRIT_ORIGINAL_IMAGE
    )[<span class="hljs-number">0</span>].imageData;
  }
};
</code></pre>
<h5 id="change-reading-frequency-to-save-power">Change reading frequency to save power</h5>
<p>The SDK is initially configured to process images sequentially without any breaks. Although this setup maximizes performance, it can lead to elevated power consumption, potentially causing the device to overheat. In many cases, it's possible to reduce the reading speed while still satisfying business requirements. The following code snippet illustrates how to adjust the SDK to process an image every 500 milliseconds:</p>
<blockquote>
  <p>Please bear in mind that in the following code, if an image's processing time is shorter than 500 milliseconds, the SDK will wait for the full 500 milliseconds before proceeding to process the next image. Conversely, if an image's processing time exceeds 500 milliseconds, the subsequent image will be processed immediately upon completion.</p>
</blockquote>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">let</span> settings = <span class="hljs-keyword">await</span> cvRouter.getSimplifiedSettings(<span class="hljs-string">"ReadSingleBarcode"</span>);
settings.minImageCaptureInterval = <span class="hljs-number">500</span>;
<span class="hljs-keyword">await</span> cvRouter.updateSettings(<span class="hljs-string">"ReadSingleBarcode"</span>, settings);
<span class="hljs-keyword">await</span> cvRouter.startCapturing(<span class="hljs-string">"ReadSingleBarcode"</span>);
</code></pre>
<h5 id="specify-a-scan-region">Specify a scan region</h5>
<p>We can specify a scan region to allow the SDK to process only part of the image, improving processing speed. The code snippet below demonstrates how to do this using the <code>cameraEnhancer</code> image source.</p>
<pre><code class="hljs javascript language-javascript">cameraEnhancer = <span class="hljs-keyword">await</span> Dynamsoft.DCE.CameraEnhancer.createInstance(cameraView);
<span class="hljs-comment">// In this example, we set the scan region to cover the central 25% of the image.</span>
cameraEnhancer.setScanRegion({
  <span class="hljs-attr">x</span>: <span class="hljs-number">25</span>,
  <span class="hljs-attr">y</span>: <span class="hljs-number">25</span>,
  <span class="hljs-attr">width</span>: <span class="hljs-number">50</span>,
  <span class="hljs-attr">height</span>: <span class="hljs-number">50</span>,
  <span class="hljs-attr">isMeasuredInPercentage</span>: <span class="hljs-literal">true</span>,
});
</code></pre>
<p><em>Note</em>:</p>
<ol>
<li>By configuring the region at the image source, images are cropped before processing, removing the need to adjust any further processing settings.</li>
<li><code>cameraEnhancer</code> enhances interactivity by overlaying a mask on the video, clearly marking the scanning region.</li>
</ol>
<p><em>See Also</em>:</p>
<p><a href="https://www.dynamsoft.com/camera-enhancer/docs/web/programming/javascript/api-reference/acquisition.html#setscanregion">CameraEnhancer::setScanRegion</a></p>
<!-- Since DCE is always used, no need to use this approach


You can use the parameter `roi` (region of interest) together with the parameter `roiMeasuredInPercentage` to configure the SDK to only read a specific region on the image frames. For example, the following code limits the reading in the center 25%( = 50% * 50%) of the image frames:
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">let</span> settings = <span class="hljs-keyword">await</span> cvRouter.getSimplifiedSettings(<span class="hljs-string">"ReadSingleBarcode"</span>);
settings.roiMeasuredInPercentage = <span class="hljs-literal">true</span>;
settings.roi.points = [
  { <span class="hljs-attr">x</span>: <span class="hljs-number">25</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">25</span> },
  { <span class="hljs-attr">x</span>: <span class="hljs-number">75</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">25</span> },
  { <span class="hljs-attr">x</span>: <span class="hljs-number">75</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">75</span> },
  { <span class="hljs-attr">x</span>: <span class="hljs-number">25</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">75</span> },
];
<span class="hljs-keyword">await</span> cvRouter.updateSettings(<span class="hljs-string">"ReadSingleBarcode"</span>, settings);
<span class="hljs-keyword">await</span> cvRouter.startCapturing(<span class="hljs-string">"ReadSingleBarcode"</span>);
</code></pre> -->
<!--
* Specify the maximum time allowed for processing each image

You can set the maximum time allowed for processing a single image with the property `timeout`.

> Please be aware that the SDK will cease processing an image if its processing time exceeds the duration specified by the `timeout` parameter. It should not be confused with the previously discussed parameter, `minImageCaptureInterval`.
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">let</span> settings = <span class="hljs-keyword">await</span> cvRouter.getSimplifiedSettings(<span class="hljs-string">"ReadSingleBarcode"</span>);
settings.timeout = <span class="hljs-number">500</span>;
<span class="hljs-keyword">await</span> cvRouter.updateSettings(<span class="hljs-string">"ReadSingleBarcode"</span>, settings);
<span class="hljs-keyword">await</span> cvRouter.startCapturing(<span class="hljs-string">"ReadSingleBarcode"</span>);
</code></pre>
-->
<h4 id="edit-the-preset-templates-directly">Edit the preset templates directly</h4>
<p>The preset templates have many more settings that can be customized to suit your use case best. If you <a href="https://www.dynamsoft.com/barcode-reader/downloads/1000003-confirmation/">download the SDK from Dynamsoft website</a>, you can find the templates under</p>
<ul>
<li>"/dynamsoft-barcode-reader-js-10.4.2002/dynamsoft/templates/"</li>
</ul>
<p>Upon completing the template editing, you can invoke the <code>initSettings</code> method and provide it with the template path as an argument.</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">await</span> cvRouter.initSettings(<span class="hljs-string">"PATH-TO-THE-FILE"</span>); <span class="hljs-comment">// E.g. "https://your-website/ReadSingleBarcode.json")</span>
<span class="hljs-keyword">await</span> cvRouter.startCapturing(<span class="hljs-string">"ReadSingleBarcode"</span>); <span class="hljs-comment">// Make sure the name matches one of the CaptureVisionTemplates in the template JSON file.</span>
</code></pre>
<h4 id="filter-the-results-important">Filter the results (Important)</h4>
<p>While processing video frames, it's common for the same barcode to be detected multiple times. To enhance the user experience, we can use <a href="https://www.dynamsoft.com/capture-vision/docs/web/programming/javascript/api-reference/utility/multi-frame-result-cross-filter.html">MultiFrameResultCrossFilter</a> object, having two options currently at our disposal:</p>
<h5 id="option-1-verify-results-across-multiple-frames">Option 1: Verify results across multiple frames</h5>
<pre><code class="hljs js language-js"><span class="hljs-keyword">let</span> filter = <span class="hljs-keyword">new</span> Dynamsoft.Utility.MultiFrameResultCrossFilter();
filter.enableResultCrossVerification(<span class="hljs-string">"barcode"</span>, <span class="hljs-literal">true</span>);
<span class="hljs-keyword">await</span> cvRouter.addResultFilter(filter);
</code></pre>
<p><em>Note</em>:</p>
<ul>
<li><code>enableResultCrossVerification</code> was designed to cross-validate the outcomes across various frames in a video streaming scenario, enhancing the reliability of the final results. This validation is particularly crucial for barcodes with limited error correction capabilities, such as 1D codes.</li>
</ul>
<h5 id="option-2-eliminate-redundant-results-detected-within-a-short-time-frame">Option 2: Eliminate redundant results detected within a short time frame</h5>
<pre><code class="hljs js language-js"><span class="hljs-keyword">let</span> filter = <span class="hljs-keyword">new</span> Dynamsoft.Utility.MultiFrameResultCrossFilter();
filter.enableResultDeduplication(<span class="hljs-string">"barcode"</span>, <span class="hljs-literal">true</span>);
<span class="hljs-keyword">await</span> cvRouter.addResultFilter(filter);
</code></pre>
<p><em>Note</em>:</p>
<ul>
<li><code>enableResultDeduplication</code> was designed to prevent high usage in video streaming scenarios, addressing the repetitive processing of the same code within a short period of time.</li>
</ul>
<p>Initially, the filter is set to forget a result 3 seconds after it is first received. During this time frame, if an identical result appears, it is ignored.</p>
<blockquote>
  <p>It's important to know that in version 9.x or earlier, the occurrence of an identical result would reset the timer, thus reinitiating the 3-second count at that point. However, in version 10.2.10 and later, an identical result no longer resets the timer but is instead disregarded, and the duration count continues uninterrupted.</p>
</blockquote>
<p>Under certain circumstances, this duration can be extended with the method <code>setDuplicateForgetTime()</code>.</p>
<pre><code class="hljs js language-js"><span class="hljs-keyword">let</span> filter = <span class="hljs-keyword">new</span> Dynamsoft.Utility.MultiFrameResultCrossFilter();
filter.setDuplicateForgetTime(<span class="hljs-number">5000</span>); <span class="hljs-comment">// Extend the duration to 5 seconds.</span>
<span class="hljs-keyword">await</span> cvRouter.addResultFilter(filter);
</code></pre>
<p>You can also enable both options at the same time:</p>
<pre><code class="hljs js language-js"><span class="hljs-keyword">let</span> filter = <span class="hljs-keyword">new</span> Dynamsoft.Utility.MultiFrameResultCrossFilter();
filter.enableResultCrossVerification(<span class="hljs-string">"barcode"</span>, <span class="hljs-literal">true</span>);
filter.enableResultDeduplication(<span class="hljs-string">"barcode"</span>, <span class="hljs-literal">true</span>);
filter.setDuplicateForgetTime(<span class="hljs-number">5000</span>);
<span class="hljs-keyword">await</span> cvRouter.addResultFilter(filter);
</code></pre>
<h4 id="add-feedback">Add feedback</h4>
<p>When a barcode is detected within the video stream, its position is immediately displayed within the video. Furthermore, utilizing the "Dynamsoft Camera Enhancer" SDK, we can introduce feedback mechanisms, such as emitting a "beep" sound or triggering a "vibration".</p>
<p>The following code snippet adds a "beep" sound for when a barcode is found:</p>
<pre><code class="hljs js language-js"><span class="hljs-keyword">const</span> resultReceiver = <span class="hljs-keyword">new</span> Dynamsoft.CVR.CapturedResultReceiver();
resultReceiver.onDecodedBarcodesReceived = <span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (result.barcodeResultItems.length &gt; <span class="hljs-number">0</span>) {
    Dynamsoft.DCE.Feedback.beep();
  }
};
cvRouter.addResultReceiver(resultReceiver);
</code></pre>
<h3 id="customize-the-ui">Customize the UI</h3>
<p>The UI is part of the auxiliary SDK "Dynamsoft Camera Enhancer", read more on how to <a href="https://www.dynamsoft.com/barcode-reader/docs/core/programming/features/ui-customization-js.html?lang=js">customize the UI</a>.</p>
<h2 id="api-documentation">API Documentation</h2>
<p>You can check out the detailed documentation about the APIs of the SDK at<br />
<a href="https://www.dynamsoft.com/barcode-reader/docs/web/programming/javascript/api-reference/?ver=10.4.2002">https://www.dynamsoft.com/barcode-reader/docs/web/programming/javascript/api-reference/?ver=10.4.2002</a>.</p>
<h2 id="system-requirements">System Requirements</h2>
<p>DBR requires the following features to work:</p>
<ul>
<li><p>Secure context (HTTPS deployment)</p>
<p>When deploying your application / website for production, make sure to serve it via a secure HTTPS connection. This is required for two reasons</p></li>
<li><p>Access to the camera video stream is only granted in a security context. Most browsers impose this restriction.</p></li>
</ul>
<blockquote>
  <p>Some browsers like Chrome may grant the access for <code>http://127.0.0.1</code> and <code>http://localhost</code> or even for pages opened directly from the local disk (<code>file:///...</code>). This can be helpful for temporary development and test.</p>
</blockquote>
<ul>
<li><p>Dynamsoft License requires a secure context to work.</p></li>
<li><p><code>WebAssembly</code>, <code>Blob</code>, <code>URL</code>/<code>createObjectURL</code>, <code>Web Workers</code></p>
<p>The above four features are required for the SDK to work.</p></li>
<li><p><code>MediaDevices</code>/<code>getUserMedia</code></p>
<p>This API is required for in-browser video streaming.</p></li>
<li><p><code>getSettings</code></p>
<p>This API inspects the video input which is a <code>MediaStreamTrack</code> object about its constrainable properties.</p></li>
</ul>
<p>The following table is a list of supported browsers based on the above requirements:</p>
<table>
<thead>
<tr>
<th style="text-align:center;">Browser Name</th>
<th style="text-align:center;">Version</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">Chrome</td>
<td style="text-align:center;">v78+<sup>1</sup></td>
</tr>
<tr>
<td style="text-align:center;">Firefox</td>
<td style="text-align:center;">v68+<sup>1</sup></td>
</tr>
<tr>
<td style="text-align:center;">Edge</td>
<td style="text-align:center;">v79+</td>
</tr>
<tr>
<td style="text-align:center;">Safari</td>
<td style="text-align:center;">v14+</td>
</tr>
</tbody>
</table>
<p><sup>1</sup> devices running iOS needs to be on iOS 14.3+ for camera video streaming to work in Chrome, Firefox or other Apps using webviews.</p>
<p>Apart from the browsers, the operating systems may impose some limitations of their own that could restrict the use of the SDK. Browser compatibility ultimately depends on whether the browser on that particular operating system supports the features listed above.</p>
<h2 id="how-to-upgrade">How to Upgrade</h2>
<p>If you want to upgrade the SDK from an old version to a newer one, please see <a href="https://www.dynamsoft.com/barcode-reader/docs/web/programming/javascript/upgrade-guide/index.html?ver=10.4.2002&utm_source=npm">how to upgrade</a>.</p>
<h2 id="release-notes">Release Notes</h2>
<p>Learn about what are included in each release at <a href="https://www.dynamsoft.com/barcode-reader/docs/web/programming/javascript/release-notes/index.html?ver=10.4.20&utm_source=npm">https://www.dynamsoft.com/barcode-reader/docs/web/programming/javascript/release-notes/index.html</a>.</p>
<h2 id="next-steps">Next Steps</h2>
<p>Now that you have got the SDK integrated, you can choose to move forward in the following directions</p>
<ol>
<li>Learn how to <a href="https://www.dynamsoft.com/barcode-reader/docs/web/programming/javascript/user-guide/use-in-framework.html">Use in Framework</a></li>
<li>Check out the <a href="https://www.dynamsoft.com/barcode-reader/docs/web/programming/javascript/samples-demos/index.html?ver=10.4.20">Official Samples and Demo</a></li>
<li>Learn about the <a href="https://www.dynamsoft.com/barcode-reader/docs/web/programming/javascript/api-reference/index.html?ver=10.4.2002">APIs of the SDK</a></li>
</ol>
    </div>
  </body>
</html>